---
title: "Jira Integration"
weight: 18
---

# Jira Integration

**Status**: Available since v0.3.5  
**Enhancement ID**: ENH-INT-004

The Jira integration allows you to export RE-cue generated use cases directly to your Atlassian Jira instance as issues. This feature creates Jira issues from use cases, automatically formatting them with proper descriptions, acceptance criteria, and technical context.

## Features

- **Automatic Use Case Conversion**: Converts use cases to Jira issues with formatted descriptions
- **Issue Creation**: Creates new issues in your specified Jira project
- **Rich Formatting**: Uses Jira wiki markup for structured descriptions
- **Automatic Labeling**: Adds labels to created issues for easy filtering
- **Environment Variable Support**: Secure credential handling via environment variables
- **Batch Export**: Export all use cases in a single command

## Quick Start

### Prerequisites

1. Jira Cloud or Server instance
2. API token for authentication (Jira Cloud) or password (Server)
3. Project key where issues will be created
4. Appropriate permissions to create issues in the project

### Basic Usage

Generate use cases and export them to Jira:

```bash
reverse-engineer --use-cases --jira \
  --jira-url https://your-domain.atlassian.net \
  --jira-project PROJ \
  --jira-user user@example.com \
  --jira-token your-api-token
```

### Environment Variables

For security, you can use environment variables instead of command-line arguments:

```bash
export JIRA_URL="https://your-domain.atlassian.net"
export JIRA_USER="user@example.com"
export JIRA_API_TOKEN="your-api-token"
export JIRA_PROJECT_KEY="PROJ"

# Then run without credentials on command line
reverse-engineer --use-cases --jira
```

## Command-Line Options

| Option | Environment Variable | Description |
|--------|---------------------|-------------|
| `--jira` | - | Enable Jira export |
| `--jira-url URL` | `JIRA_URL` | Jira server URL (e.g., https://your-domain.atlassian.net) |
| `--jira-user USER` | `JIRA_USER` | Username or email for authentication |
| `--jira-token TOKEN` | `JIRA_API_TOKEN` | API token for authentication |
| `--jira-project KEY` | `JIRA_PROJECT_KEY` | Jira project key where issues will be created |
| `--jira-issue-type TYPE` | - | Issue type for created issues (default: "Story") |

## Configuration File

You can also configure Jira export in your `.recue.yaml` file:

```yaml
# .recue.yaml
jira:
  enabled: true
  url: https://your-domain.atlassian.net
  user: user@example.com
  token: ${JIRA_API_TOKEN}  # Reference environment variable
  project: PROJ
  issue_type: Story
```

Then simply run:

```bash
reverse-engineer --use-cases
```

## Issue Format

### Summary
The issue summary is the use case name:
```
Create User Account
```

### Description
The issue description includes:

1. **Actors**
   - Primary actor
   - Secondary actors (if any)

2. **Preconditions**
   - Bulleted list of preconditions

3. **Postconditions**
   - Bulleted list of postconditions

4. **Main Scenario**
   - Numbered steps of the main flow

5. **Extensions**
   - Alternative flows and error handling

6. **Technical Context**
   - Source code references where the use case was identified

### Labels
Each issue is automatically tagged with:
- `re-cue` - Indicates the issue was generated by RE-cue
- `use-case` - Marks it as a use case
- `uc-{id}` - Use case ID for cross-referencing (e.g., `uc-uc01`)

## Installation

The Jira integration requires the `jira` Python library:

```bash
pip install jira>=3.0.0
```

Or install RE-cue with Jira support:

```bash
pip install re-cue[jira]
```

## Examples

### Export Use Cases to Specific Issue Type

```bash
reverse-engineer --use-cases --jira \
  --jira-url https://example.atlassian.net \
  --jira-project MYAPP \
  --jira-user admin@example.com \
  --jira-issue-type Task
```

### Combined with Other Exports

Export to both documentation and Jira:

```bash
reverse-engineer --use-cases --html --jira \
  --jira-url https://example.atlassian.net \
  --jira-project MYAPP \
  --jira-user admin@example.com
```

### Using Configuration File

Create a `.recue.yaml` in your project root:

```yaml
generate:
  use_cases: true

jira:
  enabled: true
  url: https://example.atlassian.net
  user: ${JIRA_USER}
  token: ${JIRA_API_TOKEN}
  project: MYAPP
  issue_type: Story
```

Then run:

```bash
export JIRA_USER="user@example.com"
export JIRA_API_TOKEN="your-token"
reverse-engineer
```

## Troubleshooting

### Permission Errors

**Problem**: "Permission denied" when creating issues

**Solution**: Ensure your Jira user has:
- "Create Issues" permission in the project
- Access to the specified issue type
- Permission to add labels

### Connection Errors

**Problem**: Cannot connect to Jira server

**Solutions**:
- Verify the Jira URL is correct (include protocol: https://)
- Check if the server is accessible from your network
- Verify API token is valid and not expired
- For Jira Cloud, ensure you're using an API token, not your password

### Issue Type Not Found

**Problem**: "Issue type 'Story' does not exist"

**Solution**: 
- Check available issue types in your project
- Use `--jira-issue-type` to specify a valid issue type (e.g., Task, Bug, Epic)

### Missing Use Cases

**Problem**: "No use cases found to export"

**Solution**:
- Ensure you're using `--use-cases` flag to generate use cases
- The `--jira` flag requires use cases to be generated first
- Check that your codebase contains analyzable endpoints/controllers

## API Reference

### JiraConfig

Configuration dataclass for Jira connection:

```python
from reverse_engineer.exporters import JiraConfig

config = JiraConfig(
    server="https://example.atlassian.net",
    username="user@example.com",
    api_token="your-token",
    project_key="PROJ",
    issue_type="Story",  # Optional, default: "Story"
    labels=["re-cue", "use-case"],  # Optional
    verify_ssl=True  # Optional, default: True
)
```

### JiraExporter

Main exporter class:

```python
from reverse_engineer.exporters import JiraExporter, JiraConfig
from reverse_engineer.domain import UseCase

# Create configuration
config = JiraConfig(
    server="https://example.atlassian.net",
    username="user@example.com",
    api_token="your-token",
    project_key="PROJ"
)

# Initialize exporter
exporter = JiraExporter(config)

# Test connection
if exporter.test_connection():
    # Export use cases
    use_cases = [...]  # Your use cases
    results = exporter.export_use_cases(use_cases)
    
    # Check results
    for result in results:
        if result.success:
            print(f"Created: {result.issue_key}")
        else:
            print(f"Failed: {result.error_message}")
```

## Security Best Practices

1. **Never commit credentials**: Use environment variables or secure vaults
2. **Use API tokens**: Don't use passwords for Jira Cloud
3. **Rotate tokens regularly**: Create new API tokens periodically
4. **Limit permissions**: Use a service account with minimal required permissions
5. **Use SSL verification**: Don't disable `verify_ssl` unless absolutely necessary

## Related Features

- [Use Case Analysis](use-cases.md) - Generate use cases from code
- [Confluence Integration](confluence-integration.md) - Export to Confluence wiki
- [HTML Export](html-export.md) - Generate HTML documentation
- [Integration Testing](integration-testing-guidance.md) - Generate test cases from use cases

## Changelog

### v0.3.5 (2024-12-22)
- Initial release of Jira integration
- Support for use case to issue conversion
- Environment variable support
- Configuration file support
